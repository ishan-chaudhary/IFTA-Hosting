{"version":3,"sources":["Views/LiveTv/Livetv.js"],"names":["connect","state","news","fetchNews","history","useState","channels","setChannels","english","setEnglish","trending","setTrending","play","setPlay","useEffect","fetchChannels","getTrending","a","axios","get","then","res","console","log","data","payload","catch","err","className","style","marginBottom","filter","h","hidden","p","language","map","c","id","_id","height","width","borderRadius","marginRight","border","padding","cursor","boxShadow","onClick","playTv","src","image","alt","Object","keys","length","playing","controls","url","link","display","justifyContent","fontWeight","name","margin","defaultChecked","onChange","checked","color","k","push","targetId"],"mappings":"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","file":"static/js/12.5c351c40.chunk.js","sourcesContent":["import React,{useEffect,useState} from 'react'\r\nimport NewsTrendingCard from '../../Components/News/NewsTrendingCard'\r\nimport { fetchNews } from '../../Actions/NewsAction';\r\nimport { connect } from 'react-redux';\r\nimport axios from '../../axios'\r\nimport ReactPlayer from 'react-player'\r\nimport { Switch } from 'antd';\r\n\r\n\r\n\r\nconst Livetv = ({fetchNews,news:{news},history}) => {\r\n  const [channels,setChannels]=useState([])\r\n  const [english,setEnglish]=useState(true)\r\n  const [trending,setTrending]=useState([])\r\n\r\n  const [play,setPlay]=useState(english? {\r\n    \"language\": \"english\",\r\n    \"priority\": 90,\r\n    \"hidden\": false,\r\n    \"_id\": \"5eaf0fe46936d7087a582a23\",\r\n    \"name\": \"India Today\",\r\n    \"link\": \"https://indiatodaylive.akamaized.net/hls/live/2014320/indiatoday/indiatodaylive/playlist.m3u8\",\r\n    \"image\": \"https://polbol-media.s3.ap-south-1.amazonaws.com/newsIcon/india_today.jpg\",\r\n    \"createdAt\": \"2020-05-03T18:39:32.117Z\",\r\n    \"updatedAt\": \"2020-05-03T18:39:32.117Z\",\r\n    \"__v\": 0\r\n}: {\r\n  \"language\": \"hindi\",\r\n  \"priority\": 60,\r\n  \"hidden\": false,\r\n  \"_id\": \"5eaf0fe46936d7087a582a13\",\r\n  \"name\": \"AajTak\",\r\n  \"link\": \"https://feeds.intoday.in/aajtak/api/master.m3u8\",\r\n  \"image\": \"https://polbol-media.s3.ap-south-1.amazonaws.com/newsIcon/aajtak.png\",\r\n  \"createdAt\": \"2020-05-03T18:39:32.116Z\",\r\n  \"updatedAt\": \"2020-05-03T18:39:32.116Z\",\r\n  \"__v\": 0\r\n})\r\n  useEffect(() =>{\r\n    fetchNews();\r\n    fetchChannels();\r\n    getTrending();\r\n  },[])\r\n  const getTrending=async()=>{\r\n    await axios.get(`notification/latest?language=${english?'english':'hindi'}`).then((res)=>{\r\n      console.log(res.data.payload,\"trend\")\r\n     setTrending(res.data.payload.payload)\r\n    })\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if(english){\r\n      setPlay({\r\n        \"language\": \"english\",\r\n        \"priority\": 90,\r\n        \"hidden\": false,\r\n        \"_id\": \"5eaf0fe46936d7087a582a23\",\r\n        \"name\": \"India Today\",\r\n        \"link\": \"https://indiatodaylive.akamaized.net/hls/live/2014320/indiatoday/indiatodaylive/playlist.m3u8\",\r\n        \"image\": \"https://polbol-media.s3.ap-south-1.amazonaws.com/newsIcon/india_today.jpg\",\r\n        \"createdAt\": \"2020-05-03T18:39:32.117Z\",\r\n        \"updatedAt\": \"2020-05-03T18:39:32.117Z\",\r\n        \"__v\": 0\r\n    })\r\n    }\r\n    else{\r\n      setPlay({\r\n        \"language\": \"hindi\",\r\n        \"priority\": 60,\r\n        \"hidden\": false,\r\n        \"_id\": \"5eaf0fe46936d7087a582a13\",\r\n        \"name\": \"AajTak\",\r\n        \"link\": \"https://feeds.intoday.in/aajtak/api/master.m3u8\",\r\n        \"image\": \"https://polbol-media.s3.ap-south-1.amazonaws.com/newsIcon/aajtak.png\",\r\n        \"createdAt\": \"2020-05-03T18:39:32.116Z\",\r\n        \"updatedAt\": \"2020-05-03T18:39:32.116Z\",\r\n        \"__v\": 0\r\n      })\r\n    }\r\n\r\n  },[english])\r\nconst fetchChannels=async()=>{\r\n  await axios.get(\"channels\")\r\n  .then((res)=>{\r\n    console.log(res.data.payload)\r\nsetChannels(res.data.payload)  })\r\n.catch((err)=>{\r\n  console.log(err);\r\n})\r\n\r\n\r\n}\r\n\r\nconst playTv=(c)=>{\r\nconsole.log(c);\r\nsetPlay(c)\r\n}\r\nfunction onChange(checked) {\r\n  console.log(`switch to ${checked}`);\r\n  setEnglish(checked)\r\n}\r\nconst checkPlaying=(id)=>{\r\n  console.log(play._id,id)\r\nif(play._id === id){\r\n  return {\r\n    height:'6rem',\r\n    width:'6rem',\r\n    borderRadius:'50%',\r\n    marginRight:'15px',\r\n    marginBottom:'1.5rem',\r\n    border:\"4px solid red\",\r\n    padding:\"0.5rem\",\r\n    cursor:'pointer',\r\n    boxShadow: '5px 10px 18px #888888'\r\n\r\n  \r\n\r\n  }\r\n}\r\nelse {\r\n  return {\r\n    height:'6rem',\r\n    width:'6rem',\r\n    borderRadius:'50%',\r\n    marginRight:'15px',\r\n    marginBottom:'1.5rem',\r\n    cursor:'pointer',\r\n    boxShadow: '5px 10px 18px #888888'\r\n\r\n  }\r\n}\r\n}\r\n\r\n\r\n  return (\r\n    <div className=\"news\">\r\n    <div className='news-head'>\r\n{ /*   <h1>Live Tv</h1>\r\n*/}  </div>\r\n  <section  className='news-section1'>\r\n    <div className=\"left\">\r\n    <div style={{marginBottom:'2rem'}}>\r\n    {channels.filter((h)=>{return h.hidden===false}).filter((p)=>{return english?p.language==='english':p.language===\"hindi\" }).map((c)=>(\r\n      <img style={checkPlaying(c._id)} onClick={()=>playTv(c)}  src={c.image} alt=\"\"/>\r\n    ))}\r\n    \r\n    </div>\r\n    <div>\r\n    {Object.keys(play).length>0 && <ReactPlayer  playing={true} width=\"100%\" controls={true} url={play.link} />\r\n  }\r\n  <div style={{display:\"flex\",justifyContent:\"space-between\",padding:'1rem'}}><span style={{fontWeight:\"bold\"}}>{Object.keys(play).length>0 && play.name}</span><span><span>Hindi</span><Switch style={{margin:'0 1rem'}} defaultChecked onChange={onChange} /><span>English</span></span></div>\r\n    </div>\r\n   \r\n    </div>\r\n    <div className='spotlight'>\r\n      <div className='spotlight-head'>\r\n        <span>Trending News</span>\r\n        <span style={{color:'#56a7ff'}}>View all</span>\r\n      </div>\r\n      <div className='trending-news'>\r\n        {trending&&\r\n          trending.length>0&&\r\n          trending\r\n            .map((k) => \r\n            <div onClick={() => history.push(`/news/${k.targetId}`)}>\r\n            <NewsTrendingCard k={k} />\r\n            </div>\r\n            )}\r\n      </div>\r\n    </div>\r\n  </section>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  news: state.news,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchNews,\r\n})(Livetv);"],"sourceRoot":""}