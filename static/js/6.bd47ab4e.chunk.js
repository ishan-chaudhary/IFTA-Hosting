(this["webpackJsonppolbol-v2"]=this["webpackJsonppolbol-v2"]||[]).push([[6],{277:function(e,t,n){"use strict";var a=n(1),c=(n(0),n(270));t.a=function(e){var t=e.cats,n=e.onChange,r=e.checkChecked;return Object(a.jsx)("div",{className:"section-news-left--tags  news-tags",children:Object(a.jsx)(c.a.Group,{className:"tags",style:{width:"100%"},onChange:n,children:t.map((function(e){return Object(a.jsxs)("label",{className:"cat cur",style:r(e),children:[e,Object(a.jsx)(c.a,{style:{display:"none"},value:e})]})}))})})}},280:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(9),r=n.n(c),s=n(20),i=n(3),o=n(0),l=n(277),u=n(60),d=n(268),f=n(24),j=n(52),h=n.n(j),b=n(126),p=n(136),g=n(59),O=n(262),x=n(93),m=n(122),v=n(123);t.default=Object(g.b)((function(e){return{polls:e.polls,awards:e.awards,english:e.english}}),{fetchAwards:p.a})((function(e){var t=e.fetchAwards,n=e.awards.awards,c=e.english.english,j=Object(o.useState)([]),p=Object(i.a)(j,2),g=p[0],y=p[1],w=Object(o.useState)({}),k=Object(i.a)(w,2),C=k[0],M=k[1],S=Object(o.useState)(!1),N=Object(i.a)(S,2),T=N[0],A=N[1],E=Object(o.useState)({}),_=Object(i.a)(E,2),D=_[0],G=_[1],J=Object(o.useState)([]),z=Object(i.a)(J,2),H=z[0],I=z[1],F=d.a.TabPane;Object(o.useEffect)((function(){K(),t(),window.scrollTo(0,0)}),[]);var K=function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/award/fetchAwardsAndCategories?mode=expired");case 3:n=e.sent,a=n.data,M(a),console.log(a,"expired awards"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();function P(e){console.log(e)}var R=function(e){var t=h()(e),n=h()(),a=h.a.duration(t.diff(n)),c=Math.floor(a.asDays()),r=Math.floor(a.asMinutes());console.log(r,"diff");return c<1&&(c=Math.floor(a.asHours()),"hours"),c<1&&(c=Math.floor(a.asMinutes()),"minutes"),r},V=function(e){var t=h()(e),n=h()(),a=h.a.duration(t.diff(n));console.log(a,"duration");var c=Math.floor(a.asDays()),r=Math.floor(a.asMinutes());console.log(r,"diff");return c<1&&(c=Math.floor(a.asHours()),"hours"),c<1&&(c=Math.floor(a.asMinutes()),"minutes"),r<0?"show has expired":"".concat(a._data.hours," hours ").concat(a._data.minutes," minutes left!!")};Object(o.useEffect)((function(){q()}),[D]);var q=function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("award/audienceComments?id=".concat(D&&D._id)).then((function(e){console.log(e,"COMMENTS"),I(e.data.payload)})).catch((function(e){console.log(e,"error in comments")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(e,t,r){var s=[];return"awards"===r&&("active"===t?e&&e.length>0&&(g.length>0?s=e&&e.length>0&&e.filter((function(e){return g.includes(e.type[0])})).filter((function(e){return R(e.lifeSpan)>0})):(s=e&&e.length>0&&e.filter((function(e){return R(e.lifeSpan)>0})),console.log(s,"use"))):"expired"===t&&(g.length>0?s=e&&e.length>0&&e.filter((function(e){return g.includes(e.type[0])})).filter((function(e){return R(e.lifeSpan)<0})):(s=e&&e.length>0&&e.filter((function(e){return R(e.lifeSpan)<0})),console.log(s))),console.log(s,"usedata"),console.log(n,"awwwwww")),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{style:{margin:"1.5rem 0"}}),Object(a.jsx)("div",{className:"pollCont",children:s&&s.map((function(e){return!1===e.hidden&&Object(a.jsx)("div",{onClick:function(){return function(e){console.log(e),e.isSubcategory&&(A(!0),G(e))}(e)},children:Object(a.jsx)(b.a,{setType3Data:G,type3:T,setType3:A,icons:u.c,type2:r,english:c,p:e,getExpiryString1:V})})}))})]})};return Object(a.jsxs)("div",{className:"poll-box",children:[Object(a.jsx)(O.a,{title:D&&Object.keys(D).length>0&&D.heading,footer:null,visible:T,onOk:function(){A(!1)},onCancel:function(){A(!1)},children:Object(a.jsxs)(d.a,{onChange:P,type:"card",children:[Object(a.jsx)(F,{tab:"Nominees",children:Object(a.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(200px,1fr))",justifyItems:"center",gridGap:"1.5rem"},children:D&&Object.keys(D).length>0&&D.nominations.map((function(e){return Object(a.jsx)(x.a,{p:e})}))})},"1"),Object(a.jsx)(F,{tab:"Jury",children:Object(a.jsx)("div",{tyle:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(320px,1fr))",justifyItems:"center",gridGap:"1.5rem"},children:D&&Object.keys(D).length>0&&D.jurys.map((function(e){return Object(a.jsx)(m.a,{p:e})}))})},"2"),Object(a.jsx)(F,{tab:"Results",children:Object(a.jsx)(v.a,{id:D&&Object.keys(D).length>0&&D._id})},"3"),Object(a.jsx)(F,{tab:"Comments",children:H.length>0&&H.map((function(e){return Object(a.jsxs)("div",{className:"comm-cont",children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{style:{width:"50px"},src:e.user.avatar,alt:""})}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{children:["@",e.user.userName," Voted"," ",Object(a.jsx)("span",{style:{textTransform:"capitalize"},children:e.award.nominations.name})]}),Object(a.jsx)("p",{className:"comment-1",children:e.comment})]})]})}))},"4")]})}),Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:[Object(a.jsx)(l.a,{onChange:function(e){console.log("checked = ",e),y(e)},checkChecked:function(e){console.log(g);var t=g.indexOf(e);if(console.log(t),-1!==t)return{backgroundColor:"#a62844",color:"white"}},cats:u.b}),Object(a.jsxs)(d.a,{size:"large",defaultActiveKey:0===function(e,t){var n=[];if("awards"===t)return(n=g.length>0?e&&e.length>0&&e.filter((function(e){return g.includes(e.type[0])})).filter((function(e){return R(e.lifeSpan)>0})):e&&e.length>0&&e.filter((function(e){return R(e.lifeSpan)>0})))&&n.length}(n,"awards")?"2":"1",onChange:P,type:"card",children:[Object(a.jsx)(F,{tab:"Active",children:B(n,"active","awards")},"1"),Object(a.jsx)(F,{tab:"Expired",children:B(C.payload,"expired","awards")},"2")]})]})})]})}))}}]);
//# sourceMappingURL=6.bd47ab4e.chunk.js.map