{"version":3,"sources":["../../src/index.ts","../../src/use-on-mount.ts","assets/Blop-Mark_DiAngelo-79054334.mp3","assets/state-change_confirm-up.wav","assets/Wrong-answer-sound-effect.mp3","assets/ticktok.wav","assets/light-bulb-1.png","../node_modules/@ant-design/icons-svg/es/asn/FieldTimeOutlined.js","../node_modules/@ant-design/icons/es/icons/FieldTimeOutlined.js","assets/lose.png","assets/Win.png","Views/Quiz/QuizPlay.js"],"names":["url","callback","volume","playbackRate","soundEnabled","interrupt","onload","delegated","HowlConstructor","React","isMounted","isPlaying","setIsPlaying","duration","setDuration","sound","setSound","handleLoad","this","mod","src","rate","play","options","stop","id","pause","FieldTimeOutlined","props","ref","AntdIcon","Object","assign","icon","FieldTimeOutlinedSvg","displayName","confirm","Modal","connect","state","english","match","history","useState","questions","setQuestions","useSound","boopSfx","correctSound","correct","wrongSound","wrong","tik","tiktok","start","setStart","index","setIndex","display","setDisplay","result","setResult","time","isOn","timer","setTimer","final","setFinal","isModalVisible","setIsModalVisible","value","taken","hint","setHint","setHintRes","alert","setAlert","fetchQuiz","a","axios","get","params","quizId","then","res","console","log","data","payload","useEffect","startQuiz","timer1","setTimeout","_id","resultId","timeOut","clearTimeout","keys","length","showAns","answerId","isCorrect","showCorrect","optionMarked","correctOption","border","answer","getHint","map","val","ind","generateRandom","min","max","num","Math","floor","random","splice","className","title","visible","onOk","push","catId","onCancel","footer","width","style","backgroundImage","score","lose","win","outOf","countCorrect","maxQuestions","attempts","accuracy","height","light","color","content","question","op","onClick","text","cursor","ExclamationCircleOutlined"],"mappings":"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","file":"static/js/15.c235a943.chunk.js","sourcesContent":["import React from 'react';\n\nimport useOnMount from './use-on-mount';\n\nimport { HookOptions, PlayOptions, PlayFunction, ReturnedValue } from './types';\n\nexport default function useSound(\n  url: string,\n  {\n    volume = 1,\n    playbackRate = 1,\n    soundEnabled = true,\n    interrupt = false,\n    onload,\n    ...delegated\n  }: HookOptions = {}\n) {\n  const HowlConstructor = React.useRef<HowlStatic | null>(null);\n  const isMounted = React.useRef(false);\n\n  const [isPlaying, setIsPlaying] = React.useState(false);\n  const [duration, setDuration] = React.useState<number | null>(null);\n\n  const [sound, setSound] = React.useState<Howl | null>(null);\n\n  const handleLoad = function() {\n    if (typeof onload === 'function') {\n      // @ts-ignore\n      onload.call(this);\n    }\n\n    if (isMounted.current) {\n      // @ts-ignore\n      setDuration(this.duration() * 1000);\n    }\n  };\n\n  // We want to lazy-load Howler, since sounds can't play on load anyway.\n  useOnMount(() => {\n    import('howler').then(mod => {\n      if (!isMounted.current) {\n        HowlConstructor.current = mod.Howl;\n        isMounted.current = true;\n\n        const sound = new HowlConstructor.current({\n          src: [url],\n          volume,\n          rate: playbackRate,\n          onload: handleLoad,\n          ...delegated,\n        });\n\n        setSound(sound);\n      }\n    });\n\n    return () => {\n      isMounted.current = false;\n    };\n  });\n\n  // When the URL changes, we have to do a whole thing where we recreate\n  // the Howl instance. This is because Howler doesn't expose a way to\n  // tweak the sound\n  React.useEffect(() => {\n    if (HowlConstructor.current && sound) {\n      setSound(\n        new HowlConstructor.current({\n          src: [url],\n          volume,\n          onload: handleLoad,\n          ...delegated,\n        })\n      );\n    }\n    // The linter wants to run this effect whenever ANYTHING changes,\n    // but very specifically I only want to recreate the Howl instance\n    // when the `url` changes. Other changes should have no effect.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [url]);\n\n  // Whenever volume/playbackRate are changed, change those properties\n  // on the sound instance.\n  React.useEffect(() => {\n    if (sound) {\n      sound.volume(volume);\n      sound.rate(playbackRate);\n    }\n    // A weird bug means that including the `sound` here can trigger an\n    // error on unmount, where the state loses track of the sprites??\n    // No idea, but anyway I don't need to re-run this if only the `sound`\n    // changes.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [volume, playbackRate]);\n\n  const play: PlayFunction = React.useCallback(\n    (options?: PlayOptions) => {\n      if (typeof options === 'undefined') {\n        options = {};\n      }\n\n      if (!sound || (!soundEnabled && !options.forceSoundEnabled)) {\n        return;\n      }\n\n      if (interrupt) {\n        sound.stop();\n      }\n\n      if (options.playbackRate) {\n        sound.rate(options.playbackRate);\n      }\n\n      sound.play(options.id);\n\n      if (isMounted.current) {\n        sound.once('end', () => {\n          // If sound is not looping\n          if (!sound.playing()) {\n            setIsPlaying(false);\n          }\n        });\n      }\n\n      if (isMounted.current) {\n        setIsPlaying(true);\n      }\n    },\n    [sound, soundEnabled, interrupt]\n  );\n\n  const stop = React.useCallback(\n    id => {\n      if (!sound) {\n        return;\n      }\n      sound.stop(id);\n\n      if (isMounted.current) {\n        setIsPlaying(false);\n      }\n    },\n    [sound]\n  );\n\n  const pause = React.useCallback(\n    id => {\n      if (!sound) {\n        return;\n      }\n      sound.pause(id);\n\n      if (isMounted.current) {\n        setIsPlaying(false);\n      }\n    },\n    [sound]\n  );\n\n  const returnedValue: ReturnedValue = [\n    play,\n    {\n      sound,\n      stop,\n      pause,\n      isPlaying,\n      duration,\n    },\n  ];\n\n  return returnedValue;\n}\n","import * as React from 'react';\n\nexport default function useOnMount(callback: React.EffectCallback) {\n  React.useEffect(callback, []);\n}\n","export default __webpack_public_path__ + \"static/media/Blop-Mark_DiAngelo-79054334.5b688e1e.mp3\";","export default __webpack_public_path__ + \"static/media/state-change_confirm-up.7842dcde.wav\";","export default __webpack_public_path__ + \"static/media/Wrong-answer-sound-effect.493cc9f4.mp3\";","export default __webpack_public_path__ + \"static/media/ticktok.3b5a07c7.wav\";","export default __webpack_public_path__ + \"static/media/light-bulb-1.267fc519.png\";","// This icon file is generated automatically.\nvar FieldTimeOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"defs\", \"attrs\": {}, \"children\": [{ \"tag\": \"style\", \"attrs\": {} }] }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M945 412H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h256c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM811 548H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h122c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM477.3 322.5H434c-6.2 0-11.2 5-11.2 11.2v248c0 3.6 1.7 6.9 4.6 9l148.9 108.6c5 3.6 12 2.6 15.6-2.4l25.7-35.1v-.1c3.6-5 2.5-12-2.5-15.6l-126.7-91.6V333.7c.1-6.2-5-11.2-11.1-11.2z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M804.8 673.9H747c-5.6 0-10.9 2.9-13.9 7.7a321 321 0 01-44.5 55.7 317.17 317.17 0 01-101.3 68.3c-39.3 16.6-81 25-124 25-43.1 0-84.8-8.4-124-25-37.9-16-72-39-101.3-68.3s-52.3-63.4-68.3-101.3c-16.6-39.2-25-80.9-25-124 0-43.1 8.4-84.7 25-124 16-37.9 39-72 68.3-101.3 29.3-29.3 63.4-52.3 101.3-68.3 39.2-16.6 81-25 124-25 43.1 0 84.8 8.4 124 25 37.9 16 72 39 101.3 68.3a321 321 0 0144.5 55.7c3 4.8 8.3 7.7 13.9 7.7h57.8c6.9 0 11.3-7.2 8.2-13.3-65.2-129.7-197.4-214-345-215.7-216.1-2.7-395.6 174.2-396 390.1C71.6 727.5 246.9 903 463.2 903c149.5 0 283.9-84.6 349.8-215.8a9.18 9.18 0 00-8.2-13.3z\" } }] }, \"name\": \"field-time\", \"theme\": \"outlined\" };\nexport default FieldTimeOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport FieldTimeOutlinedSvg from \"@ant-design/icons-svg/es/asn/FieldTimeOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar FieldTimeOutlined = function FieldTimeOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: FieldTimeOutlinedSvg\n  }));\n};\n\nFieldTimeOutlined.displayName = 'FieldTimeOutlined';\nexport default /*#__PURE__*/React.forwardRef(FieldTimeOutlined);","export default __webpack_public_path__ + \"static/media/lose.a44c2e5e.png\";","export default __webpack_public_path__ + \"static/media/Win.49adc381.png\";","import React, { useEffect, useState } from 'react';\r\nimport axios from '../../axios';\r\nimport useSound from 'use-sound';\r\nimport boopSfx from '../../assets/Blop-Mark_DiAngelo-79054334.mp3';\r\nimport correctSound from '../../assets/state-change_confirm-up.wav';\r\nimport wrongSound from '../../assets/Wrong-answer-sound-effect.mp3';\r\nimport tik from '../../assets/ticktok.wav'\r\nimport { Modal, Button } from 'antd';\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport light from '../../assets/light-bulb-1.png'\r\nimport { FieldTimeOutlined, LogoutOutlined } from '@ant-design/icons';\r\nimport {connect} from 'react-redux'\r\nimport lose from '../../assets/lose.png'\r\nimport win from '../../assets/Win.png'\r\nconst { confirm } = Modal;\r\n\r\nconst QuizPlay = ({ match, history,english:{english} }) => {\r\n  const [questions, setQuestions] = useState({});\r\n  const [play] = useSound(boopSfx);\r\n  const [correct] = useSound(correctSound);\r\n  const [wrong] = useSound(wrongSound);\r\n  const [tiktok] = useSound(tik);\r\n  const [start, setStart] = useState(false);\r\n  const [index, setIndex] = useState(0);\r\n  const [display, setDisplay] = useState({});\r\n  const [result, setResult] = useState({});\r\n  const [timer, setTimer] = useState({\r\n    time: 20,\r\n    isOn: false,\r\n  });\r\n  const [final, setFinal] = useState({});\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [hint,setHint]=useState({\r\n    value:5,\r\n    taken:false\r\n  })\r\n  const [hintRes,setHintRes]=useState({});\r\n  const [alert,setAlert]=useState(false)\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleOk = () => {\r\n    history.push(`/quiz/levels/${match.params.catId}`);\r\n\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    history.push(`/quiz/levels/${match.params.catId}`);\r\n\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const fetchQuiz = async () => {\r\n    await axios\r\n      .get(\r\n        `/quiz/start/guest?quizId=${match.params.quizId}`\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        setQuestions(res.data.payload);\r\n        \r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchQuiz();\r\n  }, []);\r\n\r\n  useEffect(() =>{\r\n    startQuiz();\r\n\r\n  },[questions])\r\n  useEffect(() => {\r\n    if (timer.isOn) {\r\n      let timer1 = setTimeout(\r\n        () => setTimer({ ...timer, time: timer.time - 1 }),\r\n        1000\r\n      );\r\n      if (timer.time <= 0) {\r\n        setTimer({ ...timer, isOn: false });\r\n        const timeOut = async () => {\r\n          await axios\r\n            .get(\r\n              `/quiz/timedOut/guest?quesId=${display._id}&resultId=${questions.resultId}`\r\n            )\r\n            .then((res) => {\r\n              setResult(res.data.payload);\r\n            });\r\n        };\r\n        timeOut();\r\n        wrong();\r\n      }\r\n      // this will clear Timeout when component unmount like in willComponentUnmount\r\n      return () => {\r\n        clearTimeout(timer1);\r\n      };\r\n    }\r\n  });\r\n\r\n  const startQuiz = () => {\r\n    if(Object.keys(questions).length>0){\r\n    setStart(true);\r\n    setDisplay(questions.questions[index]);\r\n    setTimer({ ...timer, isOn: true });\r\n    }\r\n  };\r\n\r\n  const showAns = async (answerId) => {\r\n    setTimer({ ...timer, isOn: false });\r\n    // setResult({ hello: 'hello' });\r\n    console.log('answerId', answerId);\r\n    console.log('questionId', display._id);\r\n    console.log('resultId', questions.resultId);\r\n    if (Object.keys(result).length === 0) {\r\n      // play()\r\n      await axios\r\n        .get(\r\n          `/quiz/submitAnswer/guest?resultId=${questions.resultId}&quesId=${display._id}&answer=${answerId}`\r\n        )\r\n        .then((res) => {\r\n          console.log(res.data.payload);\r\n          if (res.data.payload.isCorrect) {\r\n            correct();\r\n          } else {\r\n            wrong();\r\n          }\r\n          setResult(res.data.payload);\r\n        });\r\n    }\r\n    if (index + 1 === questions.questions.length) {\r\n      await axios\r\n        .get(\r\n          `/quiz/end/guest?resultId=${questions.resultId}`\r\n        )\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          setStart(false);\r\n          showModal();\r\n          setFinal(res.data.payload);\r\n          setDisplay({});\r\n          setResult({});\r\n          setTimer({ ...timer, time: 20, isOn: false });\r\n          setIndex(0);\r\n        });\r\n    }\r\n  };\r\n\r\n  const showCorrect = (id) => {\r\n    console.log(id);\r\n    if (Object.keys(result).length > 0) {\r\n      if (id === result.optionMarked) {\r\n        if (result.optionMarked === result.correctOption) {\r\n          return {\r\n            border: '2px solid green',\r\n          };\r\n        } else {\r\n          return {\r\n            border: '2px solid red',\r\n          };\r\n        }\r\n      }\r\n      if (id !== result.optionMarked) {\r\n        if (id === result.correctOption) {\r\n          return {\r\n            border: '2px solid green',\r\n          };\r\n        }\r\n      }\r\n      if (id) {\r\n        if (result.answer) {\r\n          if (id === result.answer) {\r\n            return {\r\n              border: '2px solid red',\r\n            };\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const nextQuestion = () => {\r\n    if (index < questions.questions.length) {\r\n      setDisplay(questions.questions[index + 1]);\r\n      setIndex(index + 1);\r\n      setTimer({ ...timer, time: 20, isOn: true });\r\n      setResult({});\r\n      setHint({...hint,taken:false})\r\n    setAlert(false)\r\n    }\r\n  };\r\n  const timerBlink = () => {\r\n    if (timer.time < 5) {\r\n      return {\r\n        color: 'red',\r\n      };\r\n    } else {\r\n      return {\r\n        color: 'black',\r\n      };\r\n    }\r\n  };\r\n\r\n  // const endQuiz=async()=>{\r\n\r\n  // }\r\n\r\n  function showConfirm() {\r\n    confirm({\r\n      title: 'Are you sure you want to quit?',\r\n      icon: <ExclamationCircleOutlined />,\r\n\r\n      onOk() {\r\n        history.push(`/quiz/levels/${match.params.catId}`);\r\n      },\r\n      onCancel() {\r\n        console.log('Cancel');\r\n      },\r\n    });\r\n  }\r\n\r\n  const getHint=async (id) =>{\r\n    if(hint===0){\r\n      console.log(\"buy hint\")\r\n    }\r\n    if(display.options.length>1&& hint.value>0 &&timer.time>0 && Object.keys(result).length ===0){\r\n  await axios.get(`http://52.66.203.244:2113//quiz/hint/guest?quesId=${id}&cost=1`)\r\n  .then((res)=>{\r\n    setHintRes(res.data.payload)\r\n    console.log(res.data.payload)\r\n    let index;\r\n    let ind=display.options.map((val,ind)=>{\r\n      if(val._id===res.data.payload.answer){\r\n        index=ind\r\n        return ind\r\n      }\r\n    })\r\n    console.log(index)\r\n    \r\n    function generateRandom(min, max) {\r\n      var num = Math.floor(Math.random() * (max - min + 1)) + min;\r\n      console.log(num)\r\n      return (num === index) ? generateRandom(min, max) : num;\r\n  }\r\n  console.log(generateRandom(0,display.options.length-1),\"random\");\r\n  display.options.splice(generateRandom(0,display.options.length-1),1)\r\n    setHint({value:hint.value-1,taken:true})\r\n\r\n  })\r\n    }\r\n\r\n  }\r\n  useEffect(()=>{\r\n    if(alert===false){\r\n    if(timer.time<6){\r\n      tiktok()\r\n      setAlert(true)\r\n    }\r\n  }\r\n  },[timer.time])\r\n \r\n  \r\n\r\n  return (\r\n    <div className='box'>\r\n   \r\n      <Modal\r\n        title='Result'\r\n        visible={isModalVisible}\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}\r\n        footer={null}\r\n        width='400px'\r\n      >\r\n        {Object.keys(final).length > 0 && (\r\n          <div className='quiz-result' style={{backgroundImage:`url(${final.score<400 ?lose:win})`}} >\r\n          <div className=\"total-score\">\r\n            <p >Total Score: {final.score}/{final.outOf}</p>\r\n            </div>\r\n            <div className=\"bottom\">\r\n            <div className=\"cont\">\r\n            <p><span>Correct Answers :</span><span>{final.countCorrect}/{final.maxQuestions}</span> </p>\r\n            <p><span>No of Attempts :</span><span>{final.attempts}</span> </p>\r\n            <p><span>Accuracy :</span><span> {final.accuracy} %</span></p>\r\n            </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Modal>\r\n      <div className='quiz-box'>\r\n      \r\n        <div className='quiz-head'>\r\n        <div className=\"hint\"><span>{hint.value}</span><img style={{height:'35px'}} src={light}></img></div>\r\n          <span className='level'>{english?'Level':'स्तर'} 1 </span>\r\n          <span className='timer'>\r\n            <FieldTimeOutlined className='timer-logo' />\r\n            <span style={timerBlink()} className='timer-val'>\r\n              {' '}\r\n              {timer.time} s\r\n            </span>\r\n          </span>\r\n          {start && (\r\n            <span className='questionNo'>\r\n              Question {index + 1} of {questions.questions.length}\r\n            </span>\r\n          )}\r\n        </div>\r\n        {/*!start && (\r\n          <center style={{ marginTop: '1.5rem' }}>\r\n            {' '}\r\n            <span className='start' onClick={startQuiz}>\r\n              Start Quiz\r\n            </span>\r\n          </center>\r\n        )*/}\r\n        {start && display && (\r\n          <div className='quiz '>\r\n            <div className='quiz-ques'>\r\n              <p className=\"modal\">{display.content.question}</p>\r\n              <div className='options'>\r\n                {display.options.map((op) => (\r\n                  <span\r\n                    className='opt'\r\n                    style={showCorrect(op._id)}\r\n                    onClick={() => showAns(op._id)}\r\n                  >\r\n                    {op.text}\r\n                  </span>\r\n                ))}\r\n              </div>\r\n              <div className=\"hint-btn\"><span style={{cursor:'pointer'}} onClick={()=>getHint(display._id)}><img style={{height:'25px'}} src={light}></img>{english?'Hint':'हिंट'}</span> </div>\r\n              \r\n                <div className='buttons'>\r\n                {Object.keys(result).length > 0 && (\r\n                  <>\r\n                  <span  className='btn' onClick={showConfirm}>\r\n                    Exit \r\n                  </span>\r\n                  <span className='btn' onClick={nextQuestion}>\r\n                    Next\r\n                  </span>\r\n                  </>\r\n                  )}\r\n                </div>\r\n            \r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  english: state.english,\r\n });\r\n \r\n export default connect(mapStateToProps)(QuizPlay);"],"sourceRoot":""}