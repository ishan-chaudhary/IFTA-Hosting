(this["webpackJsonppolbol-v2"]=this["webpackJsonppolbol-v2"]||[]).push([[12],{281:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(9),s=a.n(i),c=a(20),o=a(3),d=a(0),r=a(125),l=a(124),h=a(59),p=a(24),u=a(164),j=a.n(u),m=a(274);t.default=Object(h.b)((function(e){return{news:e.news}}),{fetchNews:l.a})((function(e){var t=e.fetchNews,a=(e.news.news,e.history),i=Object(d.useState)([]),l=Object(o.a)(i,2),h=l[0],u=l[1],g=Object(d.useState)(!0),f=Object(o.a)(g,2),b=f[0],x=f[1],y=Object(d.useState)([]),O=Object(o.a)(y,2),w=O[0],v=O[1],k=Object(d.useState)(b?{language:"english",priority:90,hidden:!1,_id:"5eaf0fe46936d7087a582a23",name:"India Today",link:"https://indiatodaylive.akamaized.net/hls/live/2014320/indiatoday/indiatodaylive/playlist.m3u8",image:"https://polbol-media.s3.ap-south-1.amazonaws.com/newsIcon/india_today.jpg",createdAt:"2020-05-03T18:39:32.117Z",updatedAt:"2020-05-03T18:39:32.117Z",__v:0}:{language:"hindi",priority:60,hidden:!1,_id:"5eaf0fe46936d7087a582a13",name:"AajTak",link:"https://feeds.intoday.in/aajtak/api/master.m3u8",image:"https://polbol-media.s3.ap-south-1.amazonaws.com/newsIcon/aajtak.png",createdAt:"2020-05-03T18:39:32.116Z",updatedAt:"2020-05-03T18:39:32.116Z",__v:0}),_=Object(o.a)(k,2),T=_[0],A=_[1];Object(d.useEffect)((function(){t(),Z(),N()}),[]);var N=function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("notification/latest?language=".concat(b?"english":"hindi")).then((function(e){console.log(e.data.payload,"trend"),v(e.data.payload.payload)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){A(b?{language:"english",priority:90,hidden:!1,_id:"5eaf0fe46936d7087a582a23",name:"India Today",link:"https://indiatodaylive.akamaized.net/hls/live/2014320/indiatoday/indiatodaylive/playlist.m3u8",image:"https://polbol-media.s3.ap-south-1.amazonaws.com/newsIcon/india_today.jpg",createdAt:"2020-05-03T18:39:32.117Z",updatedAt:"2020-05-03T18:39:32.117Z",__v:0}:{language:"hindi",priority:60,hidden:!1,_id:"5eaf0fe46936d7087a582a13",name:"AajTak",link:"https://feeds.intoday.in/aajtak/api/master.m3u8",image:"https://polbol-media.s3.ap-south-1.amazonaws.com/newsIcon/aajtak.png",createdAt:"2020-05-03T18:39:32.116Z",updatedAt:"2020-05-03T18:39:32.116Z",__v:0})}),[b]);var Z=function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("channels").then((function(e){console.log(e.data.payload),u(e.data.payload)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"news",children:[Object(n.jsx)("div",{className:"news-head",children:"  "}),Object(n.jsxs)("section",{className:"news-section1",children:[Object(n.jsxs)("div",{className:"left",children:[Object(n.jsx)("div",{style:{marginBottom:"2rem"},children:h.filter((function(e){return!1===e.hidden})).filter((function(e){return b?"english"===e.language:"hindi"===e.language})).map((function(e){return Object(n.jsx)("img",{style:(t=e._id,console.log(T._id,t),T._id===t?{height:"6rem",width:"6rem",borderRadius:"50%",marginRight:"15px",marginBottom:"1.5rem",border:"4px solid red",padding:"0.5rem",cursor:"pointer",boxShadow:"5px 10px 18px #888888"}:{height:"6rem",width:"6rem",borderRadius:"50%",marginRight:"15px",marginBottom:"1.5rem",cursor:"pointer",boxShadow:"5px 10px 18px #888888"}),onClick:function(){return function(e){console.log(e),A(e)}(e)},src:e.image,alt:""});var t}))}),Object(n.jsxs)("div",{children:[Object.keys(T).length>0&&Object(n.jsx)(j.a,{playing:!0,width:"100%",controls:!0,url:T.link}),Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"1rem"},children:[Object(n.jsx)("span",{style:{fontWeight:"bold"},children:Object.keys(T).length>0&&T.name}),Object(n.jsxs)("span",{children:[Object(n.jsx)("span",{children:"Hindi"}),Object(n.jsx)(m.a,{style:{margin:"0 1rem"},defaultChecked:!0,onChange:function(e){console.log("switch to ".concat(e)),x(e)}}),Object(n.jsx)("span",{children:"English"})]})]})]})]}),Object(n.jsxs)("div",{className:"spotlight",children:[Object(n.jsxs)("div",{className:"spotlight-head",children:[Object(n.jsx)("span",{children:"Trending News"}),Object(n.jsx)("span",{style:{color:"#56a7ff"},children:"View all"})]}),Object(n.jsx)("div",{className:"trending-news",children:w&&w.length>0&&w.map((function(e){return Object(n.jsx)("div",{onClick:function(){return a.push("/news/".concat(e.targetId))},children:Object(n.jsx)(r.a,{k:e})})}))})]})]})]})}))}}]);
//# sourceMappingURL=12.5c351c40.chunk.js.map