(this["webpackJsonppolbol-v2"]=this["webpackJsonppolbol-v2"]||[]).push([[9],{284:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(9),c=n.n(r),s=n(20),o=n(3),i=n(0),l=n(268),d=n(24),u=n(93),j=n(122),f=n(123),m=n(52),p=n.n(m),h=n(74);t.default=function(e){var t=e.match,n=l.a.TabPane,r=Object(i.useState)([]),m=Object(o.a)(r,2),b=m[0],x=m[1],O=Object(i.useState)([]),g=Object(o.a)(O,2),w=g[0],v=g[1],y=Object(i.useState)(!1),M=Object(o.a)(y,2),C=M[0],S=M[1],I=Object(i.useState)([]),N=Object(o.a)(I,2),Y=N[0],k=N[1];Object(i.useEffect)((function(){T(),A(),D(),window.scrollTo(0,0)}),[]);var T=function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("award/awardList?categoryId=".concat(t.params.catId)).then((function(e){console.log(e.data),x(e.data.payload)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("award/audienceComments?id=".concat(t.params.awardId)).then((function(e){console.log(e,"COMMENTS"),v(e.data.payload)})).catch((function(e){console.log(e,"Error in award")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var J=function(){return b.filter((function(e){return e._id===t.params.awardId}))};console.log(J(),"aww");var D=function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/award/fetchAwardsAndCategories").then((function(e){console.log("fetchShowInfo Called"),k(e.data.payload)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){return Y.filter((function(e){return e._id===t.params.showId&&!0===e.isAward}))};console.log(E()[0],"show info");var V=function(e){var t=p()(e),n=p()(),a=p.a.duration(t.diff(n));console.log(a,"duration");var r=Math.floor(a.asDays()),c=Math.floor(a.asMinutes());console.log(c,"diff");return r<1&&(r=Math.floor(a.asHours()),"hours"),r<1&&(r=Math.floor(a.asMinutes()),"minutes"),c<0};return Object(a.jsxs)("div",{className:"box",children:[Object(a.jsx)(h.a,{isModalVisible:C,setIsModalVisible:S}),Object(a.jsx)("h2",{style:{margin:"2rem 0"},children:J()&&J().length>0&&J()[0].heading}),Object(a.jsxs)(l.a,{onChange:function(e){console.log(e)},type:"card",children:[Object(a.jsx)(n,{tab:"Nominees",children:Object(a.jsx)("div",{className:"nom-div",style:{padding:"5rem 10rem"},children:J()&&J().length>0&&J()[0].nominations.map((function(e){return Object(a.jsx)(u.a,{p:e})}))})},"1"),Object(a.jsx)(n,{tab:"Jury",children:Object(a.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(320px,1fr))",justifyItems:"center",gridGap:"1.5rem"},children:E()&&E().length>0?V(E()[0].lifeSpan)?J()&&J().length>0&&J()[0].jurys.map((function(e){return Object(a.jsx)(j.a,{p:e})})):Object(a.jsxs)("div",{children:["Jury Comments will be disclosed on ",p()(E()[0].lifeSpan).format("MMMM Do YYYY"),"."]}):null})},"2"),J()&&J().length>0&&Object(a.jsx)(n,{tab:"Results",children:E()&&E().length>0?V(E()[0].lifeSpan)?Object(a.jsx)(f.a,{id:J()&&J().length>0&&J()[0]._id}):Object(a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(320px,1fr))",justifyItems:"center",gridGap:"1.5rem"},children:["Results will be declared on ",p()(E()[0].lifeSpan).format("MMMM Do YYYY"),"."]}):null},"3"),Object(a.jsxs)(n,{tab:"Comments",children:[w.length>0&&w.map((function(e){return Object(a.jsxs)("div",{className:"comm-cont",children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{style:{width:"50px"},src:e.user.avatar,alt:""})}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{children:["@",e.user.userName," Voted"," ",Object(a.jsx)("span",{style:{textTransform:"capitalize"},children:e.award.nominations.name})]}),Object(a.jsx)("p",{className:"comment-1",children:e.comment})]})]})})),Object(a.jsx)("div",{onClick:function(){return S(!0)},className:"comment",children:Object(a.jsx)("p",{style:{color:"grey"},children:"Add comments....."})})]},"4")]})]})}}}]);
//# sourceMappingURL=9.c495241e.chunk.js.map